## Vectors

A vector is a sequence of data elements of the **same type**.

|||||
| ------ | ----- | ----- | ----- | 
| 329 | 45 | 12 | 28 |


### Creating a vector

* Values are assigned to a vector using the **c** function (**c** for **c**ombining elements). Open and close the round brackets, and place the different elements, separated by **commas**.

```{r}
vector1 <- c(329, 45, 12, 28)
```

You can create an empty vector with:

```{r}
# empty vector
vecempty <- vector()
# empty numerical vector with 5 elements
vecnumempty <- vector(mode="numeric", length=5)
# empty character vector with 8 elements
veccharempty <- vector(mode="character", length=8)
```

* Create a sequence of consecutive numbers:

```{r}
vecnum <- 10:16
# shortcut for:
vecnum <- c(10, 11, 12, 13, 14, 15, 16)
# NOTES: both ends (10 and 16) are included
```

* Character vectors: each element is entered between (single or double) quotes.

|||||
| ------ | ----- | ----- | ----- | 
| mRNA | miRNA | snoRNA | lncRNA |

```{r}
mynames <- c("mRNA", "miRNA", "snoRNA", "lncRNA")
```

**HANDS-ON**

1. Create a vector (choose the name) that contains a sequence of number, from 3 to 8, both included.
2. Create vector myfruits as:
```{r,eval=FALSE}
myfruits <- c(apple, pear, orange)
```
What is happening? Why? Can you modify the line above so it doesn't throw an error?

### Vector manipulation

* A vector can be **named**: each element of the vector can be assigned a name (number or character)

```{r}
# our previous numerical vector
vector1 <- c(329, 45, 12, 28)
# assign names
names(vector1) <- c("mRNA", "miRNA", "snoRNA", "lncRNA")
# use an object which already contains a vector
mynames <- c("mRNA", "miRNA", "snoRNA", "lncRNA")
names(vector1) <- mynames
```

* Get the length (number of elements) of a vector

```{r}
length(vector1)
```

* Extracting elements from vector **a**
	+ extract elements using their position (index) in the vector:
	<img src="images/vector_indices.png" width="500">

	```{r}
	vector1[1]
	vector1[c(1,3)]
	vector1[2:4]
	```
	+ extract elements using their names:
	<img src="images/vector_indices_names.png" width="500">

	```{r}
	vector1["mRNA"]
	vector1[c("miRNA", "lncRNA")]            
	```

* Reassigning a vector's element

```{r}
# here we re-assign the 2nd element of vector1 with 31.
vector1[2] <- 31
vector1["miRNA"] <- 31
```

* Removing a vector's element

```{r}
# here we remove the 3rd element of vector1
# show in the console vector1 without its 3rd element:
vector1[-3]
# reassign vector1 without its 3rd element
vector1 <- vector1[-3]
```

* __Show__ versus __change__

x[-2] <img src="images/red_triangle.jpg" width="40"> x <span style="color:red">unchanged</span> !

x <- x[-2] <img src="images/red_triangle.jpg" width="40"> x <span style="color:red">reassigned</span> !

### Combining vectors

* You can combine 2 (or more) vectors into one.
Here, we combine **v1** and **v2** to create a vector **v3**

```{r}
v1 <- 2:5
v2 <- 4:6
v3 <- c(v1, v2)
```

 > The elements of **v2** are added after the elements of **v1**

* Likewise, you can add elements at the end of a vector

```{r}
v3 <- c(v3, 19)
```


### Numeric vector manipulation

<h4>Logical operators</h4>

| Operator  | Description   |
|:--------: |:-------------:|
|     <     | less than    |
|     <=    | less than or equal to   |
|     >     | greater than  |
|     >=    | greater than or equal to|
|     ==    | exactly equal to   |
|     !=    | not equal to |
|    !x     | not x |
|   x \| y | x OR y |
|   x & y | x AND y |

* Which elements of **a** are equal to 2?
```{r}
a <- 1:5
a == 2
```
<img src="images/vector_equal.png" width="450">

* Which elements of **a** are superior to 2?
```{r}
a <- 1:5
a > 2
```
<img src="images/vector_super.png" width="450">

* Extract elements of a vector that comply with a condition:
```{r}
a <- 1:5
# extract the TRUE/FALSE vector
a >= 2
# extract the actual sub-vector that complies the condition (TRUE values)
a[a >= 2]
# count how many elements comply the condition
length(a[a >= 2])
```
<img src="images/vector_subvector.png" width="500">

**HANDS-ON**

Given the following vector containing a group of people's ages:
```{r}
ages <- c(18, 32, 12, 34, 42, 32, 17, 56, 76, 10)
```
2. How many people are over 18?
3. How many people are under 60?
4. How many people are between 25 and 45?

#### Operations on vectors

* Adding 2 to a vector adds 2 to **each element** of the vector:

```{r}
a <- 1:5
a + 2
```

<img src="images/vector_addition.png" width="350">

> Same goes for subtractions, multiplications and divisions...

* Multiplying a vector by another vector of equal length

```{r}
a <- c(2, 4, 6)
b <- c(2, 3, 0)
a * b
```

<img src="images/vector_multiply.png" width="220">

* Multiplying a vector by another **shorter** vector

```{r}
a <- c(2, 4, 6, 3, 1)
b <- c(2, 3, 0)
a * b
```

<img src="images/vector_multi_recycle.png" width="300">


 > Vector **a** is "recycled" !

* Summary statistics

| Function  | Description   |
|:--------: |:-------------:|
|     mean(x)  | mean / average |
|    median(x) | median |
|     min(x)   | minimum |
|     max(x)   | maximum |
|     var(x)   | variance |
| summary(x) | mean, median, min, max, quartiles |

```{r}
k <- c(1, 3, 12, 45, 3, 2)
summary(k)
```

**HANDS-ON**

Given our **ages** vector:
```{r}
ages <- c(18, 32, 12, 34, 42, 32, 17, 56, 76, 10)
```
1. What is the average/mean age?
2. What is percentage of variation? It is defined as (standard deviation / mean) * 100. 

#### Comparing vectors

* The **%in%** operator

Which elements of **a** are also found in **b** ?

```{r}
a <- 2:6
b <- 4:10
a %in% b
```

Yields a TRUE/FALSE vector of the size of **a**.

<img src="images/vector_in.png" width="350">

Retrieve actual elements of **a** that are found in **b**:

```{r}
a <- 2:6
b <- 4:10
a[a %in% b]
```

### Character vector manipulation

Character vectors are manipulated similarly to numeric ones.

* The **%in%** operator:

```{r}
k <- c("mRNA", "miRNA", "snoRNA", "RNA", "lincRNA")
p <- c("mRNA","lincRNA", "tRNA", "miRNA")
k %in% p
k[k %in% p]
```

* Select elements from vector **m** that are not *exon*

```{r}
m <- c("exon", "intron", "exon")
m != "exon"
m[m != "exon"]
```


